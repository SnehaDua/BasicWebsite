#include <cs50.h>
#include <stdio.h>

//function declarations
//AmericanEX - 15-digit, start with 34 or 37
//MasterCard - 16-digit, start with 51,52,53,54, or 55
//Visa - 13-digit and 16-digit, start with 4
//CheckSum


int main(void){
    
    //declaring variables
    long CardNum;
    int len = 0, count = 0;
    
    //getting user input( no of digits shd be 13,15, or 16)
    do
    {
        len =0;
        CardNum = get_long("Please Enter your Card Number : ");
        while (CardNum != 0)
        {
            CardNum /= 10;
            ++len;
        }
        printf("length : %d\n", len);
                
    }
    while ((len < 13) || (len > 16) || (len == 14));
    printf(" yoour cardlength is %d\n", len);
    
    
    
    
    return 0;
}

--------------------------------------------------------------------------------------------------
Revering a Card Number
---------------------------------------------------------------------------------------------------

// function to reverse the cardnumber
long reverse( long num)
{ 
    
    //printf("number being pased is : %ld \n", num);
    long rev = 0;
    while(num != 0)
    {
        rev = (rev * 10) + (num % 10);
        num /= 10;
    }
   printf("reverse number is %ld\n", rev);
    return rev;
}


-----------------------------------------------------------------------------------------------------
Actual code
------------------------------------------------------------------------------------------------------
#include <cs50.h>
#include <stdio.h>

int CheckSum(long);
//void checkSum ( long , int);

//AmericanEX - 15-digit, start with 34 or 37
//MasterCard - 16-digit, start with 51,52,53,54, or 55
//Visa - 13-digit and 16-digit, start with 4
//CheckSum
//

int main(void){
    
    //declaring variables
    long CardNum, CN;
    int len = 0, count = 0;
    
    //getting user input( no of digits shd be 13,15, or 16)
    do
    {
        len =0;
        CardNum = get_long("Please Enter your Card Number : ");
        CN = CardNum;
        while (CN != 0)
        {
            CN /= 10;
            ++len;
        }
        printf("length : %d\n", len);
                
    }
    while ((len < 13) || (len > 16) || (len == 14));
    printf(" your cardlength is %d\n", len);
    printf(" your card number in the main loop is %ld\n", CardNum);
    bool Validity = CheckSum(CardNum);
    printf (" validity : %d\n",Validity);
    return 0;
}



int CheckSum(long Rcn)
{
    //long Rcn = reverse(CN);
    printf("Rcn : %ld\n",Rcn);
    int i = 1, EvenSum = 0 , OddSum = 0;
    while(Rcn != 0)
    {
        if(i % 2 == 0)
        {
            EvenSum += ((Rcn%10) * 2);
            //printf("EvenSum : %d\n", EvenSum);
        } else 
        {
            OddSum += Rcn % 10;
            //printf("OddSum : %d\n ", OddSum);
        }
        
        Rcn /= 10;
        i++;
            
    }
    printf("EvenSum : %d\t OddSum : %d\n", EvenSum, OddSum);
    
    
   int SumTotal = EvenSum + OddSum;
    
    printf("Sumtotal :%d\n", SumTotal);
    
    if (SumTotal % 10 == 0)
    {
        printf("returning 1\n");
        return 1;
    }else
    {
        printf("returning 0\n");
        return 0;
    }
  
}



